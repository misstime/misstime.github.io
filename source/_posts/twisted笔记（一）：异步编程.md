---
title: twisted笔记（一）：异步编程
date: 2019-03-23 15:31:10
categories: twisted 笔记
tags: twisted
---

以处理三个相互独立的任务为例，常见程序模型：

- 单线程同步模型
- 多线程/多进程模型
- 异步模型

<!--more-->

单线程同步模型
--------------

- 同一时刻，只有一个任务在执行
- 前一个任务结束后一个任务才能开始，按照事先规定的顺序执行。

![](/images/twisted-notes/p01_sync.png)

多线程/多进程模型
-----------
在操作系统的层面，多个任务同时执行。

注：

> python 由于 GIL 锁的存在，在同一时间内，python解释器只能运行一个线程的代码，因此在即使在多核的情况下也只能发挥出单核的性能。

![](/images/twisted-notes/p01_threaded.png)

异步模型
-------

当一个任务出现阻塞时，会先让其他任务先执行。因此异步程序也被称为非阻塞程序。

![](/images/twisted-notes/p01_async.png)

多线程 vs 异步
----------

- 多线程同时运行多个任务，比较复杂；异步同一时刻只能运行一个任务，更加简单。
- 对任务控制权不同（@todo）
